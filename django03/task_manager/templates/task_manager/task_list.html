{% extends 'base.html' %}
{% load static %}
{% block title %} {{ block.super }} {% endblock title %}
{% block content %}
<h1>Task list</h1>
{% comment %} {% include 'includes/search.html' %} {% endcomment %}
{% if task_list %}
{% include 'includes/paginator_nav.html' %}
    <table>
        <tr>
            <th>ID</th>
            <th>Task</th>
            <th>Assignees</th>
            <th>Status</th>                
            <th>Start</th>
            <th>Finish</th>
            <th>Is overdue</th>
            <th>Priority</th>
            <th colspan="2">Actions</th>
        </tr>
        {% for task in task_list %}
        <tr>
            <td>{{ task.id }}</td>
            <td>{{ task.content }}</td>
            {% comment %} <td>{{ task.assignee.all }}</td> {% endcomment %}
            <td>{% for assignee in task.assignee.all %} {{ assignee.first_name }} {{ assignee.last_name }}</br> {% endfor %}</td>    
            <td>{{ task.get_status_display }}</td>                
            <td>{{ task.start }}</td>
            <td>{{ task.finish }}</td>
            <td>{{ task.is_overdue }}</td>
            <td>{{ task.get_priority_display }}</td>
            <td><a href="{% url 'task_detail' task.pk %}">View</a></td>
            <td><a href="{% url 'task_update' task.pk %}">Update</a></td>     
        </tr>
        {% endfor %}
    </table>
{% endif %}
{% endblock content %}